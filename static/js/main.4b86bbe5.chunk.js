(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{163:function(e,t,n){e.exports=n(364)},170:function(e,t,n){},364:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(24),o=n.n(i),s=(n(168),n(170),n(161)),c=n.n(s),u=n(3),l=function(e){var t=e.store,n=e.children;return r.a.createElement(u.Provider,{view:t.view,router:t.router,translate:t.translate,settings:t.settings,speechRecognition:t.speechRecognition},n)},p=n(7),h=n(148),g=n.n(h),d=n(74),m=n.n(d),v=Object(u.inject)("view")(Object(u.observer)(function(e){var t=e.view,n=e.children;return r.a.createElement(p.MuiThemeProvider,{theme:Object(p.createMuiTheme)({drawerWidth:260,typography:{useNextVariants:!0},bodyColor:{dark:m.a.A400,light:m.a[50]},palette:{primary:g.a,type:t.lightThemeActive?"light":"dark"}})},n)})),f=n(30),b=n.n(f),w=Object(p.withStyles)(function(e){return{title:Object.assign({},e.mixins.gutters(),{flex:"1 1 auto"})}})(function(e){var t=e.classes,n=e.title;return r.a.createElement(b.a,{className:t.title,variant:"h6",color:"inherit",noWrap:!0},n)}),O=n(31),j=n.n(O),E=n(149),S=n.n(E),y=Object(u.inject)("view")(function(e){var t=e.view;return r.a.createElement(j.a,{color:"inherit","aria-label":"open drawer",onClick:function(){return t.toggleTempDrawer()}},r.a.createElement(S.a,null))}),x=n(150),R=n.n(x),T=Object(u.inject)("view")(function(e){var t=e.view;return r.a.createElement(j.a,{color:"inherit","aria-label":"toggle light theme",onClick:function(){return t.toggleLightTheme()}},r.a.createElement(R.a,null))}),k=n(73),D=n.n(k),A=function(){return r.a.createElement(D.a,null,r.a.createElement("path",{d:"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"}))},C=n(26),P=n.n(C),N=n(47),W=function(e){console.error(e)},H=function(){return window.innerWidth},I=function(){return window.innerHeight},G=function(){return window.navigator.onLine},z="undefined"!==typeof window&&!!(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),L="undefined"!==typeof window&&!!window.localStorage,U="undefined"!==typeof window&&"undefined"!==typeof window.navigator&&!!window.navigator.permissions;function F(){return B.apply(this,arguments)}function B(){return(B=Object(N.a)(P.a.mark(function e(){var t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.navigator.permissions.query({name:"microphone"});case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),W(e.t0),e.abrupt("return",{});case 11:case"end":return e.stop()}},e,this,[[0,7]])}))).apply(this,arguments)}function M(){return V.apply(this,arguments)}function V(){return(V=Object(N.a)(P.a.mark(function e(){var t,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.navigator.mediaDevices.getUserMedia({audio:!0});case 3:return t=e.sent,(n=t.getAudioTracks()).length&&n[0].stop(),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),W(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this,[[0,9]])}))).apply(this,arguments)}function q(){return(q=Object(N.a)(P.a.mark(function e(){var t,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!U){e.next=7;break}return e.next=3,F();case 3:return t=e.sent,e.abrupt("return","granted"===t.state);case 7:return e.next=9,M();case 9:return n=e.sent,e.abrupt("return",n);case 11:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Z(){return(Z=Object(N.a)(P.a.mark(function e(){var t,n=arguments;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:function(){return!1},e.prev=1,e.next=4,window.navigator.permissions.query({name:"microphone"});case 4:return e.sent.onchange=t,e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(1),W(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}},e,this,[[1,9]])}))).apply(this,arguments)}var K="undefined"!==typeof window&&"undefined"!==typeof window.navigator&&!!window.navigator.mediaDevices;function _(){return(_=Object(N.a)(P.a.mark(function e(){var t;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,window.navigator.mediaDevices.enumerateDevices();case 3:return t=e.sent,e.abrupt("return",t.filter(function(e){return"audioinput"===e.kind&&"default"!==e.deviceId}));case 7:return e.prev=7,e.t0=e.catch(0),W(e.t0),e.abrupt("return",[]);case 11:case"end":return e.stop()}},e,this,[[0,7]])}))).apply(this,arguments)}var J=function(){return r.a.createElement(j.a,{color:"inherit","aria-label":"go to github",onClick:function(){return e="https://github.com/heinburger/voice-to-text-stream",void window.open(e);var e}},r.a.createElement(A,null))},Y=n(10),X=n(18),$=n(20),Q=n(19),ee=n(21),te=n(75),ne=n.n(te),ae=function(e){function t(){return Object(Y.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement(j.a,{buttonRef:function(t){return e.button=t},color:"inherit","aria-label":"recording",onClick:this.props.speechRecognition.stopRecognition},r.a.createElement(ne.a,null))}}]),t}(a.Component),re=Object(u.inject)("speechRecognition")(ae),ie=Object(u.inject)("view","translate","settings")(Object(u.observer)(function(e){var t=e.view,n=e.translate,a=e.settings;return r.a.createElement(r.a.Fragment,null,t.showTempDrawer?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null),t.recording&&r.a.createElement(re,null),r.a.createElement(w,{title:a.isOnline?"":"(".concat(n.getText("Offline"),")")}),r.a.createElement(T,null),r.a.createElement(J,null))})),oe=n(152),se=n.n(oe),ce=n(23),ue=function(e){return{wrapper:Object.assign({},e.mixins.toolbar,{display:"flex"}),drawerHeader:Object.assign({},e.mixins.gutters(),{display:"flex",alignItems:"center",overflow:"hidden"}),h6:{cursor:"pointer","&:hover":{color:e.palette.secondary[e.palette.type],textDecoration:"underline"}}}},le=Object(p.withStyles)(ue)(function(e){var t=e.classes,n=e.children;return r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement("span",{role:"img","aria-label":"robot",style:{fontSize:"24px",paddingRight:"5px"}},"\ud83e\udd16"),n))}),pe=Object(p.withStyles)(ue)(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement(b.a,Object.assign({variant:"h6",className:t.h6,noWrap:!0},n))}),he=Object(u.inject)("router","translate")(Object(u.observer)(function(e){var t=e.router,n=e.translate;return r.a.createElement(le,null,r.a.createElement(pe,{onClick:function(){return t.goTo("/")}},"".concat(n.getText("Voice to text"))))})),ge=n(54),de=n.n(ge),me=n(56),ve=n.n(me),fe=n(53),be=n.n(fe),we=n(55),Oe=n.n(we),je=[];[["Afrikaans",["af-ZA"]],["Bahasa Indonesia",["id-ID"]],["Bahasa Melayu",["ms-MY"]],["Catal\xe0",["ca-ES"]],["\u010ce\u0161tina",["cs-CZ"]],["Deutsch",["de-DE"]],["English",["en-AU","Australia"],["en-CA","Canada"],["en-IN","India"],["en-NZ","New Zealand"],["en-ZA","South Africa"],["en-GB","United Kingdom"],["en-US","United States"]],["Espa\xf1ol",["es-AR","Argentina"],["es-BO","Bolivia"],["es-CL","Chile"],["es-CO","Colombia"],["es-CR","Costa Rica"],["es-EC","Ecuador"],["es-SV","El Salvador"],["es-ES","Espa\xf1a"],["es-US","Estados Unidos"],["es-GT","Guatemala"],["es-HN","Honduras"],["es-MX","M\xe9xico"],["es-NI","Nicaragua"],["es-PA","Panam\xe1"],["es-PY","Paraguay"],["es-PE","Per\xfa"],["es-PR","Puerto Rico"],["es-DO","Rep\xfablica Dominicana"],["es-UY","Uruguay"],["es-VE","Venezuela"]],["Euskara",["eu-ES"]],["Fran\xe7ais",["fr-FR"]],["Galego",["gl-ES"]],["Hrvatski",["hr_HR"]],["IsiZulu",["zu-ZA"]],["\xcdslenska",["is-IS"]],["Italiano",["it-IT","Italia"],["it-CH","Svizzera"]],["Magyar",["hu-HU"]],["Nederlands",["nl-NL"]],["Norsk bokm\xe5l",["nb-NO"]],["Polski",["pl-PL"]],["Portugu\xeas",["pt-BR","Brasil"],["pt-PT","Portugal"]],["Rom\xe2n\u0103",["ro-RO"]],["Sloven\u010dina",["sk-SK"]],["Suomi",["fi-FI"]],["Svenska",["sv-SE"]],["T\xfcrk\xe7e",["tr-TR"]],["\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",["bg-BG"]],["P\u0443\u0441\u0441\u043a\u0438\u0439",["ru-RU"]],["\u0421\u0440\u043f\u0441\u043a\u0438",["sr-RS"]],["\ud55c\uad6d\uc5b4",["ko-KR"]],["\u4e2d\u6587",["cmn-Hans-CN","\u666e\u901a\u8bdd (\u4e2d\u56fd\u5927\u9646)"],["cmn-Hans-HK","\u666e\u901a\u8bdd (\u9999\u6e2f)"],["cmn-Hant-TW","\u4e2d\u6587 (\u53f0\u7063)"],["yue-Hant-HK","\u7cb5\u8a9e (\u9999\u6e2f)"]],["\u65e5\u672c\u8a9e",["ja-JP"]],["Lingua lat\u012bna",["la"]]].forEach(function(e){e.forEach(function(t,n){n>0&&je.push({name:t[1]?"".concat(e[0]," (").concat(t[1],")"):e[0],tag:t[0]})})});var Ee=je,Se=Object(p.withStyles)(function(e){return{formControl:{width:"100%",marginTop:"".concat(e.spacing.unit,"px")}}})(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement(be.a,Object.assign({className:t.formControl},n))}),ye=function(e){function t(){var e,n;Object(Y.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object($.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r))))._handleChange=function(e){n.props.settings.setLanguage(e.target.value)},n}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.translate;return r.a.createElement(Se,null,r.a.createElement(de.a,{htmlFor:"language-simple"},n.getText("Language")),r.a.createElement(Oe.a,{value:t.language,onChange:this._handleChange,inputProps:{name:"language",id:"language-simple"}},Ee.map(function(e){var t=e.name,n=e.tag;return r.a.createElement(ve.a,{key:n,value:n},t)})))}}]),t}(r.a.Component),xe=Object(u.inject)("settings","translate")(Object(u.observer)(ye)),Re=Object(p.withStyles)(function(e){return{caption:{paddingTop:"".concat(e.spacing.unit,"px"),color:e.palette.text.secondary}}})(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement(b.a,Object.assign({variant:"caption",className:t.caption,noWrap:!0},n))}),Te=function(e){function t(){return Object(Y.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.translate;return r.a.createElement(Re,null,n.getText("Online status"),t.isOnline?" \ud83d\udc4d":" \ud83d\udc4e")}}]),t}(r.a.Component),ke=Object(u.inject)("settings","translate")(Object(u.observer)(Te)),De=function(e){function t(){return Object(Y.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.translate;return r.a.createElement(Re,null,n.getText("localStorage support"),t.localStorageSupported?" \ud83d\udc4d":" \ud83d\udc4e")}}]),t}(r.a.Component),Ae=Object(u.inject)("settings","translate")(Object(u.observer)(De)),Ce=function(e){function t(){return Object(Y.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.translate;return r.a.createElement(Re,null,n.getText("Permissions support"),t.permissionsSupported?" \ud83d\udc4d":" \ud83d\udc4e")}}]),t}(r.a.Component),Pe=Object(u.inject)("settings","translate")(Object(u.observer)(Ce)),Ne=function(e){function t(){return Object(Y.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.translate;return r.a.createElement(Re,null,n.getText("Speech recognition support"),t.speechRecognitionSupported?" \ud83d\udc4d":" \ud83d\udc4e")}}]),t}(r.a.Component),We=Object(u.inject)("settings","translate")(Object(u.observer)(Ne)),He=function(e){function t(){return Object(Y.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.translate;return r.a.createElement(Re,null,n.getText("Audio support"),t.audioSupported?" \ud83d\udc4d":" \ud83d\udc4e")}}]),t}(r.a.Component),Ie=Object(u.inject)("settings","translate")(Object(u.observer)(He)),Ge=n(151),ze=n.n(Ge),Le=function(e){function t(){return Object(Y.a)(this,t),Object($.a)(this,Object(Q.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.translate;return r.a.createElement("div",null,r.a.createElement(Re,null,n.getText("Audio permission"),t.audioPermission?" \ud83d\udc4d":" \ud83d\udc4e"),!t.audioPermission&&r.a.createElement(ze.a,{variant:"contained",onClick:t.requestAudioPermission},n.getText("Request")))}}]),t}(r.a.Component),Ue=Object(u.inject)("settings","translate")(Object(u.observer)(Le)),Fe=Object(p.withStyles)(function(e){return{formControl:{width:"100%",marginTop:"".concat(e.spacing.unit,"px")}}})(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement(be.a,Object.assign({className:t.formControl},n))}),Be=function(e){function t(){var e,n;Object(Y.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object($.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r))))._handleChange=function(e){n.props.settings.setAudioSource(e.target.value)},n}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.translate;return r.a.createElement(Fe,null,r.a.createElement(de.a,{htmlFor:"audio-simple"},n.getText("Audio source")),r.a.createElement(Oe.a,{value:t.audioSource,onChange:this._handleChange,inputProps:{name:"audio",id:"audio-simple"}},r.a.createElement(ve.a,{key:"default",value:"default"},n.getText("Default")),t.audioDevices.map(function(e){return r.a.createElement(ve.a,{key:e.deviceId,value:e.deviceId},e.label||n.getText("Unknown"))})))}}]),t}(r.a.Component),Me=Object(u.inject)("settings","translate")(Object(u.observer)(Be)),Ve=Object(p.withStyles)(function(e){return{wrapper:e.mixins.gutters()}})(function(e){var t=e.classes;return r.a.createElement("div",{className:t.wrapper},r.a.createElement(ke,null),r.a.createElement(Ae,null),r.a.createElement(Pe,null),r.a.createElement(We,null),r.a.createElement(xe,null),r.a.createElement(Ie,null),r.a.createElement(Ue,null),r.a.createElement(Me,null))}),qe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(he,null),r.a.createElement(se.a,null),r.a.createElement(Ve,null))},Ze=n(52),Ke=n.n(Ze),_e=Object(p.withStyles)(function(e){return{wrapper:{flexGrow:1,zIndex:1,height:"100vh",overflow:"hidden",position:"relative",display:"flex",width:"100%"}}})(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement("div",Object.assign({className:t.wrapper},n))}),Je=Object(u.inject)("view")(function(e){var t=e.children,n=e.view;return r.a.createElement(_e,null,t,r.a.createElement(Ke.a,{target:"window",onResize:n.onScreenResize}))}),Ye=n(76),Xe=n.n(Ye),$e=Object(p.withStyles)(function(e){return{drawerPaper:{width:e.drawerWidth,position:"relative"}}})(function(e){var t=e.classes,n=e.children;return r.a.createElement(Xe.a,{variant:"permanent",anchor:"left",classes:{paper:t.drawerPaper}},n)}),Qe=Object(p.withStyles)(function(e){return{drawerPaper:{width:e.drawerWidth}}})(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement(Xe.a,Object.assign({variant:"temporary",anchor:"left",classes:{paper:t.drawerPaper},ModalProps:{keepMounted:!0}},n))}),et=Object(u.inject)("view")(Object(u.observer)(function(e){var t=e.view,n=e.children;return r.a.createElement(Qe,{open:t.tempDrawerOpen,onClose:t.toggleTempDrawer},n)})),tt=Object(u.inject)("view")(Object(u.observer)(function(e){var t=e.view,n=e.children;return t.showTempDrawer?r.a.createElement(et,null,n):r.a.createElement($e,null,n)})),nt=n(153),at=n(154),rt=n.n(at),it=n(155),ot=n.n(it),st=Object(p.withStyles)(function(e){return{appBar:Object(nt.a)({right:0,left:"auto",position:"absolute"},e.breakpoints.up("md"),{width:"calc(100% - ".concat(e.drawerWidth,"px)")})}})(function(e){var t=e.classes,n=e.children;return r.a.createElement(rt.a,{className:t.appBar},r.a.createElement(ot.a,null,n))}),ct=Object(p.withStyles)(function(e){return{toolbar:Object.assign({},e.mixins.toolbar,{flex:"0 0 auto"}),main:{backgroundColor:e.palette.background.default,flex:"1 1 auto",overflow:"auto",display:"flex",flexDirection:"column"},content:{flex:"1 1 auto",display:"flex",flexDirection:"column"}}})(function(e){var t=e.classes,n=e.children;return r.a.createElement("main",{className:t.main},r.a.createElement("div",{className:t.toolbar}),r.a.createElement("div",{className:t.content},n))}),ut=n(156),lt=n.n(ut),pt=Object(p.withStyles)(function(e){return{message:Object.assign({},e.mixins.gutters(),{paddingTop:"".concat(e.spacing.unit,"px"),color:e.palette.text.secondary})}})(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement(b.a,Object.assign({variant:"h5",className:t.message},n))}),ht=Object(u.inject)("translate")(Object(u.observer)(function(e){var t=e.translate;return r.a.createElement(pt,null,r.a.createElement(lt.a,{style:{verticalAlign:"middle"}})," ".concat(t.getText("Speech recognition is not supported by your device.")," \ud83e\udd2c"))})),gt=n(157),dt=n.n(gt),mt=Object(p.withStyles)(function(e){return{textField:{flex:"1 1 250px"}}})(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement(dt.a,Object.assign({InputLabelProps:{shrink:!0},className:t.textField},n))}),vt=function(e){function t(){var e,n;Object(Y.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object($.a)(this,(e=Object(Q.a)(t)).call.apply(e,[this].concat(r)))).handleOnChange=function(e){var t=n.props.view,a=t.recording,r=t.setText,i=n.props.speechRecognition.stopRecognition;a?i():r(e.target.value)},n.handleOnFocus=function(e){var t=n.props.view.recording,a=n.props.speechRecognition.stopRecognition;t?a():e.target.select()},n}return Object(ee.a)(t,e),Object(X.a)(t,[{key:"render",value:function(){var e=this,t=this.props.view,n=t.text,a=t.guessText,i=t.inputRowsGuess,o=t.inputRowsOutput,s=this.props.translate;return this.guess&&(this.guess.scrollTop=this.guess.scrollHeight),this.output&&(this.output.scrollTop=this.output.scrollHeight),r.a.createElement("div",{style:{flex:"0 0 auto",display:"flex",flexWrap:"wrap"}},r.a.createElement(mt,{variant:"filled",inputRef:function(t){return e.guess=t},rows:i,disabled:!0,placeholder:s.getText('Guesses show up here... say things like "new paragraph" or "period" for punctuation'),label:"".concat(s.getText("Guess")," \ud83e\udd14"),multiline:!0,value:a,onChange:function(){return!1}}),r.a.createElement(mt,{variant:"filled",inputRef:function(t){return e.output=t},rows:o,placeholder:"...",InputLabelProps:{shrink:!0},multiline:!0,value:n,label:"".concat(s.getText("Output")," \ud83e\udd2e"),onChange:this.handleOnChange,onFocus:this.handleOnFocus}))}}]),t}(a.Component),ft=Object(u.inject)("view","translate","speechRecognition")(Object(u.observer)(vt)),bt=n(158),wt=n.n(bt),Ot=n(160),jt=n.n(Ot),Et=n(159),St=n.n(Et),yt=function(e){return{fab:{margin:e.spacing.unit},container:{position:"fixed",right:e.spacing.unit,bottom:e.spacing.unit}}},xt=Object(p.withStyles)(yt)(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement(wt.a,Object.assign({className:t.fab},n))}),Rt=Object(p.withStyles)(yt)(function(e){var t=e.classes,n=Object(ce.a)(e,["classes"]);return r.a.createElement("div",Object.assign({className:t.container},n))}),Tt=Object(u.inject)("view","speechRecognition","settings","translate")(Object(u.observer)(function(e){var t=e.view,n=e.speechRecognition,a=(e.translate,e.settings),i=t.recording,o=t.clearText,s=t.text,c=t.screenWidth,u=n.startRecognition,l=n.stopRecognition;return r.a.createElement(Rt,null,i?r.a.createElement(xt,{size:c<600?"small":"large",color:"secondary",onClick:l},r.a.createElement(St.a,null)):r.a.createElement(xt,{size:c<600?"small":"large",color:"primary",disabled:!a.isOnline,onClick:u},r.a.createElement(ne.a,null)),r.a.createElement(xt,{size:c<600?"small":"large",disabled:!s,onClick:o},r.a.createElement(jt.a,null)))})),kt=Object(u.inject)("settings")(Object(u.observer)(function(e){return e.settings.speechRecognitionSupported?r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,null),r.a.createElement(Tt,null)):r.a.createElement(ht,null)})),Dt=function(e){var t=e.store;return r.a.createElement(l,{store:t},r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,null),r.a.createElement(v,null,r.a.createElement(Je,null,r.a.createElement(st,null,r.a.createElement(ie,null)),r.a.createElement(tt,null,r.a.createElement(qe,null)),r.a.createElement(ct,null,r.a.createElement(kt,null))))))},At=n(2),Ct=function(){function e(t){var n=this;Object(Y.a)(this,e),this.recording=!1,this.text="",this.guessText="",this.tempDrawerOpen=!1,this.screenWidth=H(),this.screenHeight=I(),this.lightThemeActive=!1,this.onScreenResize=function(){n.screenWidth=H(),n.screenHeight=I()},this.toggleTempDrawer=function(){n.tempDrawerOpen=!n.tempDrawerOpen},this.closeTempDrawer=function(){n.tempDrawerOpen=!1},this.toggleLightTheme=function(){n.lightThemeActive=!n.lightThemeActive},this.setText=function(e){n.text=e},this.clearText=function(){n.text=""},this.addText=function(e){n.text=n.text+e},this.setGuessText=function(e){n.guessText=e||"..."},this.startRecording=function(){n.recording=!0},this.stopRecording=function(){n.recording=!1},this.appStore=t}return Object(X.a)(e,[{key:"showTempDrawer",get:function(){return this.screenWidth<960}},{key:"inputRowsGuess",get:function(){return this.screenWidth<500?2:(this.screenHeight-180)/19}},{key:"inputRowsOutput",get:function(){return this.screenWidth<500?(this.screenHeight-225)/19:(this.screenHeight-180)/19}}]),e}();Object(At.decorate)(Ct,{recording:At.observable,text:At.observable,guessText:At.observable,tempDrawerOpen:At.observable,screenWidth:At.observable,screenHeight:At.observable,lightThemeActive:At.observable,showTempDrawer:At.computed,inputRowsGuess:At.computed,inputRowsOutput:At.computed,onScreenResize:At.action,toggleTempDrawer:At.action,closeTempDrawer:At.action,toggleLightTheme:At.action,setText:At.action,clearText:At.action,setGuessText:At.action,startRecording:At.action,stopRecording:At.action});var Pt=Ct,Nt=function e(t){var n=this;Object(Y.a)(this,e),this.initRecognition=function(){var e=z?window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition:null;n.recognition=new e,n.recognition.continuous=!0,n.recognition.interimResults=!0,n.recognition.lang=n.appStore.settings.language,n.recognition.onstart=function(e){console.log("SpeechRecognition.onstart")},n.recognition.onresult=function(e){if(console.log("SpeechRecognition.onresult"),n.appStore.view.recording){for(var t="",a="",r=e.resultIndex;r<e.results.length;r++)e.results[r].isFinal?a=e.results[r][0].transcript:t=r>0?t+e.results[r][0].transcript:e.results[r][0].transcript;n.setOutput(a),n.setGuess(t)}},n.recognition.onspeechend=function(){console.log("SpeechRecognition.onspeechend")},n.recognition.onerror=function(e){console.log("SpeechRecognition.onerror")},n.recognition.onaudiostart=function(e){console.log("SpeechRecognition.onaudiostart")},n.recognition.onaudioend=function(e){console.log("SpeechRecognition.onaudioend")},n.recognition.onend=function(e){console.log("SpeechRecognition.onend"),n.stopRecognition()},n.recognition.onnomatch=function(e){console.log("SpeechRecognition.onnomatch")},n.recognition.onsoundstart=function(e){console.log("SpeechRecognition.onsoundstart")},n.recognition.onsoundend=function(e){console.log("SpeechRecognition.onsoundend")},n.recognition.onspeechstart=function(e){console.log("SpeechRecognition.onspeechstart")}},this.output="",this.guess="",this.lastGuess="",this.startRecognition=function(){n.recognition||n.initRecognition(),n.output="",n.guess="",n.lastGuess="",n.recognition.start(),n.appStore.view.startRecording()},this.stopRecognition=function(){n.guess&&n.appStore.view.addText(n.guess+" "),n.appStore.view.setGuessText(""),n.output="",n.guess="",n.appStore.view.stopRecording();try{n.recognition.stop()}catch(e){}},this.setOutput=function(e){n.output=e,n.guess="",n.appStore.view.addText(e)},this.setGuess=function(e){n.guess=e,n.appStore.view.setGuessText(n.guess)},this.appStore=t,Object(At.autorun)(function(){n.appStore.settings&&!n.appStore.settings.isOnline&&n.stopRecognition()})};Object(At.decorate)(Nt,{output:At.observable,guess:At.observable,startRecognition:At.action,stopRecognition:At.action,setOutput:At.action,setGuess:At.action});var Wt=Nt,Ht=n(162),It=n.n(Ht),Gt=function e(t){var n=this;Object(Y.a)(this,e),this.pathname="",this.goTo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";n.history.push(e),n.appStore.view.showTempDrawer&&n.appStore.view.tempDrawerOpen&&n.appStore.view.closeTempDrawer()},this.setPathname=function(e){n.pathname=e},this.appStore=t,this.history=It()({basename:"/voice-to-text-stream"}),this.setPathname(this.history.location.pathname),this.history.listen(function(e,t){n.setPathname(e.pathname),console.log("The last navigation action was ".concat(t))})};Object(At.decorate)(Gt,{pathname:At.observable,goTo:At.action,setPathname:At.action});var zt=Gt,Lt=function e(t){var n=this;Object(Y.a)(this,e),this.translations={"Voice to text":{"de-DE":"Stimme zum Text"},Language:{"de-DE":"Sprache"},"Online status":{"de-DE":"Online Status"},"localStorage support":{"de-DE":"Speicherunterst\xfctzung"},"Permissions support":{"de-DE":"Erlaubnisunterst\xfctzung"},"Speech recognition support":{"de-DE":"Spracherkennungsunterst\xfctzung"},"Audio support":{"de-DE":"Audio-Unterst\xfctzung"},"Audio permission":{"de-DE":"Audio-Erlaubnis"},"Audio source":{"de-DE":"Audio quelle"},Default:{"de-DE":"Standard"},Unknown:{"de-DE":"Unbekannte"},Request:{"de-DE":"Anfordern"},'Guesses show up here... say things like "new paragraph" or "period" for punctuation':{"de-DE":'Vermutungen tauchen hier auf... sagen Dinge wie "neuer Absatz" oder "Punkt" f\xfcr Interpunktion'},Guess:{"de-DE":"Vermutung"},Output:{"de-DE":"Ausgang"}},this.getText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.translations[e]&&n.translations[e][n.appStore.settings.language]?n.translations[e][n.appStore.settings.language]:e},this.appStore=t};Object(At.decorate)(Lt,{});var Ut=Lt,Ft=function e(t){var n=this;Object(Y.a)(this,e),this.isOnline=G(),this.language=function(e){var t;try{t=window.localStorage.getItem(e)}catch(n){return W(n),null}return t}("language")||"de-DE",this.audioSource="default",this.audioDevices=[],this.audioPermission=!0,this.setOnlineStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.isOnline=e},this.setLanguage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"de-DE";!function(e,t){try{window.localStorage.setItem(e,t)}catch(n){return W(n),!1}}("language",e),n.language=e,n.appStore.speechRecognition.recognition&&(n.appStore.speechRecognition.recognition.lang=e)},this.setAudioSource=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.audioSource=e},this.setAudioDevices=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.audioDevices=e},this.setAudioPermission=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n.audioPermission=e,n.updateAudioDevices()},this.appStore=t,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=function(){return e(G())};window.addEventListener("offline",t),window.addEventListener("online",t)}(this.setOnlineStatus),this.localStorageSupported=L,this.speechRecognitionSupported=z,this.audioSupported=K,this.permissionsSupported=U,this.requestAudioPermission=function(){return M().then(n.setAudioPermission)},this.updateAudioPermission=function(){return function(){return q.apply(this,arguments)}().then(n.setAudioPermission)},this.updateAudioPermission(),function(){Z.apply(this,arguments)}(this.updateAudioPermission),this.updateAudioDevices=function(){return function(){return _.apply(this,arguments)}().then(n.setAudioDevices)},this.updateAudioDevices(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1};try{window.navigator.mediaDevices.ondevicechange=e}catch(t){return W(t),!1}}(this.updateAudioDevices)};Object(At.decorate)(Ft,{isOnline:At.observable,language:At.observable,audioSource:At.observable,audioDevices:At.observable,audioPermission:At.observable,setOnlineStatus:At.action,setLanguage:At.action,setAudioSource:At.action,setAudioDevices:At.action,setAudioPermission:At.action});var Bt=Ft;Object(At.configure)({enforceActions:"observed"});var Mt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Vt(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(Dt,{store:new function e(){Object(Y.a)(this,e),this.view=new Pt(this),this.speechRecognition=new Wt(this),this.router=new zt(this),this.translate=new Ut(this),this.settings=new Bt(this)}}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/voice-to-text-stream",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/voice-to-text-stream","/service-worker.js");Mt?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Vt(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Vt(t,e)})}}()}},[[163,2,1]]]);
//# sourceMappingURL=main.4b86bbe5.chunk.js.map